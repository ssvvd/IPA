
<div class="border-left-gray border-right-gray" [ngClass]="srv_appsetting.isMobileResolution?'pl-0 pr-0 mp-0 ml-0':''" style="min-height: 1500px;">
    <div class="row" [hidden]="!MainPage">
      <div class="col col-20 mt-4 scrollYAutoFilter" [hidden]="_hideFilter" *ngIf="!srv_appsetting.isMobileResolution">
        <app-res-filter (filterEvent)="receiveFilterChange($event)" [helpArr]="resTable.dtResultsObjectsHelp"></app-res-filter>
      </div>
      <div class="col col-12 mt-2 scrollYAutoFilter-mobile" [hidden]="srv_statemanage._hideFiltermobile" *ngIf="srv_appsetting.isMobileResolution">
        <app-res-filter [filtermobiletop]="filtermobiletop" (filterEvent)="receiveFilterChange($event)" [helpArr]="resTable.dtResultsObjectsHelp"></app-res-filter>
      </div>
      <div class="col border-left-gray" [ngClass]="srv_appsetting.isMobileResolution?'col-12 pl-0 pr-0':'pl-2 col-80' ">
        <div class="row">
        </div>
       <!--  @Input() filterChangedRec: any ; results-table -->
        <app-results-table (changefiltermobiletop)="changefiltermobile($event)" [hidden]="!srv_statemanage._hideFiltermobile" #resTable [filterChangedRec]="filterChanged" (hideFilter)="hideFilter($event)" (goToViewEvent)="goToView($event)"></app-results-table>
      </div>
    </div>

    <div class="row" [hidden]="MainPage">
      <div class="container-fluid" [ngClass]="srv_appsetting.isMobileResolution?'pl-0 pr-0 ml-0 mr-0':''">              
        <div class="mt-0 ml-0 pl-0 mt-0 pt-2 row" >
          <div class="pl-0 ">
          <nav class="ml-0 pl-0 mt-0 pl-0 pt-0 " aria-label="breadcrumb">
             <ol class="breadcrumb mt-0 ml-0 pl-0 bg-white pb-0 mb-0 " >
                 <li *ngIf="!srv_appsetting.isMobileResolution" class="breadcrumb-item text-secondary" (click)="switchPage()" ><a href="javascript:void(0)">{{'All' | translate}}</a></li>
                 <li *ngIf="srv_appsetting.isMobileResolution" class=" text-secondary" (click)="switchPage()"><a ><img  class="arrow-mobile pr-2 pl-0" [src]="environment.ImagePath + 'icon_arrow-01.svg'"></a></li> 
                 <li [ngClass]="srv_appsetting.isMobileResolution?'siteTitle':'breadcrumb-item'" class="active text-secondary"  aria-current="page">{{'Result Information' | translate}}</li> 
             </ol>
           </nav>
        
          </div>  
          <div class=" text-right float-right pt-2" *ngIf="(srv_statemanage.SecApp=='119' || srv_statemanage.SecApp=='120') && srv_appsetting.isMobileResolution">        
            <label class="shape-ellipse">
              <div class="row">
                  <div >
                      <a (click)="OpenCNGenerator()" target="_blank"><img [src] = "environment.ImagePath+'icon_NCGenerator.svg'"   class="img-ellipse" title="{{'NC Generator' | translate}}"></a>                                               
                  </div>
                  <div class="mt-1 ml-1 mr-2 ">
                      <label class="label-ellipse  cursor-pointer" (click)="OpenCNGenerator()">{{'NC Generator' | translate}}</label>           
                  </div>
              </div> 
            </label>
          </div>
          <div  *ngIf="srv_appsetting.isMobileResolution" class="text-right float-right pl-0  mr-0 ml-auto" [hidden]="productInfo ? productInfo._hideDownLoad5 : false">
            <div data-toggle="tooltip" title="{{'Download Results' | translate}}" 
             class="siteTitle cursor-pointer ml-2 mb-0 pt-2 mr-0 pr-2 text-right float-right"  (click)="CheckDownloadResults()">
              <i class="fa fa-spinner fa-spin" *ngIf="srv_statemanage.flgPDFLoading==1"></i> 
              <div class="text-right float-right pr-0" >                        
                <img [src] = "environment.ImagePath+'icon_Download.svg'"  class="icon-edit" >     
              </div>                           
            </div>  
          </div>               
        </div>  
        <div class="row" >
          <div class="col-12 justify-content" >
          <div class="float-right  pb-1" >
            <div class="row">
              <div *ngIf="(srv_statemanage.SecApp=='119' || srv_statemanage.SecApp=='120') && !srv_appsetting.isMobileResolution">        
                <label class="shape-ellipse">
                  <div class="row">
                      <div >
                          <a (click)="OpenCNGenerator()" target="_blank"><img [src] = "environment.ImagePath+'icon_NCGenerator.svg'"   class="img-ellipse" title="{{'NC Generator' | translate}}"></a>                                               
                      </div>
                      <div class="mt-1 ml-1 mr-2 ">
                          <label class="label-ellipse  cursor-pointer" (click)="OpenCNGenerator()">{{'NC Generator' | translate}}</label>           
                      </div>
                  </div> 
                </label>
              </div>
             <!--  <div *ngIf="!srv_appsetting.isMobileResolution">
                <h2 data-toggle="tooltip" title="{{'Create Assembly' | translate}}" class="siteTitle cursor-pointer ml-2 mb-0"  (click)="GoToAssembly()">                  
                  <img src = "{{environment.ImgAssembly}}"  class="icon-edit" >                                
                </h2>  
              </div>  -->
              <!-- <div *ngIf="srv_appsetting.Country.FCSToolshopSite!=''  && srv_appsetting.UserID!=''  && !srv_appsetting.isMobileResolution">               
                <h2 data-toggle="tooltip" title="{{'Shop Items' | translate}}" class="siteTitle cursor-pointer ml-2 mb-0"  (click)="onOpenWebShop()">                  
                  <img  [src] = "environment.ImagePath+'icon_shopping.svg'" class="icon-edit" >                                
                </h2>                
              </div>  -->             
              <div  *ngIf="!srv_appsetting.isMobileResolution" [hidden]="productInfo ? productInfo._hideDownLoad5 : false">
                <h2 data-toggle="tooltip" title="{{'Download Results' | translate}}" class="siteTitle cursor-pointer ml-2 mb-0"  (click)="CheckDownloadResults()">
                  <i class="fa fa-spinner fa-spin" *ngIf="srv_statemanage.flgPDFLoading==1"></i>                         
                  <img [src] = "environment.ImagePath+'icon_Download.svg'"  class="icon-edit" >                                
                </h2>  
              </div>         
            </div>  
          </div>
        </div>       
      </div>
      <!-- <inner-tabs-table class="pt-0" *ngIf="srv_appsetting.isMobileResolution" [viewParamsChanged]="viewParams"></inner-tabs-table> -->
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs navul">
          <li  [ngbNavItem]="1" [ngClass]="srv_appsetting.isMobileResolution?'navli-mobile':'navli'" id="dataitem1">
            <a ngbNavLink  [ngClass]="srv_appsetting.isMobileResolution?'':'siteTitle'" >{{'Machining Parameters' | translate}}</a>
            <ng-template ngbNavContent>
              <div>
                <inner-tabs-table [viewParamsChanged]="viewParams" [OpenWebShop]="EvOpenWebShop"></inner-tabs-table>
                <!-- <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="!exportPDF && srv_appsetting.isMobileResolution"> -->
                  <div class="col-xs-6 col-sm-6 col-md-6 pt-0 pb-0" *ngIf="srv_appsetting.isMobileResolution">
                    <img style="width:90% ;" [src]="environment.ImageInputPath + srv_statemanage.SecApp + '.png'" class="input-image">   
                  </div>
              
                <machining-prms [viewParamsChangedMP]="viewParams"></machining-prms>
              </div>
            </ng-template>
          
          </li>

          <li  [ngbNavItem]="2" [ngClass]="srv_appsetting.isMobileResolution?'navli-mobile':'navli'">
            <a ngbNavLink [ngClass]="srv_appsetting.isMobileResolution?'':'siteTitle'">{{'Product Information' | translate}}</a>
            <ng-template ngbNavContent>
              <inner-tabs-table [viewParamsChanged]="viewParams" ></inner-tabs-table>
              <!-- <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="!exportPDF && srv_appsetting.isMobileResolution"> -->
                <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="srv_appsetting.isMobileResolution">
                <img style="width:90% ;" [src]="environment.ImageInputPath + srv_statemanage.SecApp + '.png'" class="input-image">   
              </div>
              <product-info [viewParamsChanged]="viewParams" [SRC]="'ITA1'"></product-info>
            </ng-template>
          </li>

          <li  [ngbNavItem]="3" [ngClass]="srv_appsetting.isMobileResolution?'navli-mobile':'navli'">
            <a ngbNavLink class="text-truncate text-wrap" [ngClass]="srv_appsetting.isMobileResolution?'':'siteTitle'">{{'2D+3D Representation' | translate}}</a>
            <ng-template ngbNavContent >
              <inner-tabs-table  [viewParamsChanged]="viewParams" ></inner-tabs-table>             
                <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="srv_appsetting.isMobileResolution">
                <img style="width:90% ;" [src]="environment.ImageInputPath + srv_statemanage.SecApp + '.png'" class="input-image">   
              </div>
              <div>
              <product-info  #productInfo [viewParamsChanged]="viewParams" [SRC]="'ITA2'"></product-info>
            </div>
            </ng-template>
          </li>

          <li *ngIf="!srv_appsetting.isMobileResolution" [disabled]="(srv_statemanage.SecApp =='800' || srv_statemanage.SecApp =='810')? false:true"  
          [ngbNavItem]="4" class="navli">
            <a *ngIf="srv_statemanage.SecApp =='800' || srv_statemanage.SecApp =='810'" ngbNavLink class="siteTitle">{{'Post Processor' | translate}}</a>
            <ng-template ngbNavContent>
              <inner-tabs-table  [viewParamsChanged]="viewParams" ></inner-tabs-table>             
              <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="srv_appsetting.isMobileResolution">
              <img style="width:90% ;" [src]="environment.ImageInputPath + srv_statemanage.SecApp + '.png'" class="input-image">   
            </div>
            <div>
              <postprocessor [viewParamsChanged]="viewParams" ></postprocessor>
            </div>            
            </ng-template>
          </li>

        
          <li *ngIf="!srv_appsetting.isMobileResolution" [disabled]="(srv_statemanage.SecApp =='800' || srv_statemanage.SecApp =='810')? false:true"  
          [ngbNavItem]="5" class="navli">
            <a *ngIf="srv_statemanage.SecApp =='800' || srv_statemanage.SecApp =='810'" ngbNavLink class="siteTitle">{{'CNC Program' | translate}}</a>
            <ng-template ngbNavContent>
              <inner-tabs-table  [viewParamsChanged]="viewParams" ></inner-tabs-table>             
              <div class="col-xs-6 col-sm-6 col-md-6" *ngIf="srv_appsetting.isMobileResolution">
                <img style="width:90% ;" [src]="environment.ImageInputPath + srv_statemanage.SecApp + '.png'" class="input-image">   
              </div>
            <div>
              <cncprogram [viewParamsChanged]="viewParams"></cncprogram>
            </div>            
            </ng-template>
          </li>

        </ul>

        <div [ngbNavOutlet]="nav" class="pt-3 scrollYAutoMParams" style="width:100%;"></div>
        <!-- <ngb-tabset [destroyOnHide]="false" type="pills" justify="fill">
          
          <ngb-tab title="Machining Parameters">
            <ng-template ngbTabContent>
              <machining-prms></machining-prms>
            </ng-template>
          </ngb-tab>
           
          <ngb-tab>
            <ng-template ngbTabTitle>Product Information</ng-template>
            <ng-template ngbTabContent>
                <product-info [viewParamsChanged]="viewParams" [SRC]="'ITA1'"></product-info>
            </ng-template>
          </ngb-tab>
           
          <ngb-tab>
            <ng-template ngbTabTitle>2D+3D Representation</ng-template>
            <ng-template ngbTabContent>
              <product-info [viewParamsChanged]="viewParams" [SRC]="'ITA2'"></product-info>
            </ng-template>
          </ngb-tab>

          <ngb-tab [disabled]="true"></ngb-tab>
          <ngb-tab [disabled]="true"></ngb-tab>
                     
        </ngb-tabset> -->
        <!-- <div *ngIf="IsExport"  id="pdfdata" style="visibility :hidden"> -->
                      
    </div>    
  </div> 
  <div  *ngIf="IsExport" class="pt-4" style="padding-top:100px">
    <div *ngIf="IsExport"  id="pdfdata"> 
      <div  class="pt-4">
        <div class="header-pdf">    
            <img [src]="environment.ImagePath+'INGIPA_New-logo.png'" class="logoImg pl-2 pt-1">                  
            <!-- <img [src]="environment.ImagePath+'INGITA_New-logo.svg'" class="logoImg pr-4 pt-1 float-right">  -->       
        </div>
        <div class="header-pdf1">
            <div class="float-right pr-4">
              <label class="labelwhite">{{srv_appsetting.User.displayName}}&nbsp;&nbsp;{{srv_appsetting.curDate | date:'dd-MM-yyyy'}}</label>          
            </div>
        </div>
      </div>         
      <div> 
      <div class="border-bottom-gray">
          <label class="pl-2 siteTitle PDFDescription">{{'IPA Recommendation' | translate}}</label>
      </div> 
          <div class="pt-3 pb-2 border-bottom-gray">   
            <div  class="row pb-2 ml-2 pr-0 mr-0 pt-4">
              <label class="PDFTitle ml-2">{{'Machine ' | translate}}</label>
            </div>
            <div class="pt-2" >
              <app-machineitem [exportPDF]="true" [pr_MachineID]="srv_statemanage.SelectedMachine.MachineID"  [pr_MachineName]="srv_statemanage.SelectedMachine.MachineName"></app-machineitem>
            </div>  
          </div>            
          <div class="pt-2">  
             <div class="row pb-2 pr-0 mr-0 pt-2">
               <div >
                  <label class="PDFTitle ml-2">{{'Material ' | translate}}</label>
              </div>
              <div>
                <label class="pl-3 pt-1">{{mat_desc}}</label>
              </div>
            </div>                      
          </div>         
         
      </div> 
      
      <div class="pb"></div>                              
      <div class="break-page form-group">
        <div>
          <div class="header-pdf">    
              <img [src]="environment.ImagePath+'INGIPA_New-logo.png'" class="logoImg pl-2 pt-1">          
              <!-- <img [src]="environment.ImagePath+'INGITA_New-logo.svg'" class="logoImg pr-4 pt-1 float-right">  -->       
          </div>
          <div class="header-pdf1">
              <div class="float-right pr-4">
                <label class="labelwhite">{{srv_appsetting.User.displayName}}&nbsp;&nbsp;{{srv_appsetting.curDate | date:'dd-MM-yyyy'}}</label>          
              </div>
          </div>
        </div>  
          <div class="row pb-2 ml-2 pr-0 mr-0 pt-2 border-bottom-gray">
            <label class="PDFTitle ml-2">{{'Operation Data' | translate}}</label>
          </div>
          <div class="row">
            <div class="pr-2 pl-2 pt-2">
              <label class="siteTitle">{{srv_statemanage.MainAppSelected.MenuName | translate}}</label>
            </div>
            <div class="pt-2">
              <label class="siteTitle">{{srv_statemanage.SecAppSelected.MenuName | translate}}</label>
            </div>
          </div> 
          <div>    
              <app-appdetails59 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='760'||srv_statemanage.SecApp=='770'||srv_statemanage.SecApp=='57')"></app-appdetails59>
             <app-appdetails780 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "srv_statemanage.SecApp=='780'"  ></app-appdetails780>
              <app-appdetails790 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "srv_statemanage.SecApp=='790'"  ></app-appdetails790>
              <app-appdetails77 [exportPDF]="true"  [events]="eventsSubject.asObservable()" *ngIf = "srv_statemanage.SecApp=='77'"  ></app-appdetails77>
              <appdetails120 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='120' || srv_statemanage.SecApp=='119')" ></appdetails120> 
              <appdetails990 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='990' || srv_statemanage.SecApp=='980' || srv_statemanage.SecApp=='970' || srv_statemanage.SecApp=='960')" ></appdetails990>   
              <appdetails890 [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='890' || srv_statemanage.SecApp=='880' || srv_statemanage.SecApp=='870' || srv_statemanage.SecApp=='860' || srv_statemanage.SecApp=='850')" ></appdetails890>                 
              <appdetails52  [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='52' || srv_statemanage.SecApp=='53' || srv_statemanage.SecApp=='50')" ></appdetails52>   
              <appdetails1   [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "srv_statemanage.SecApp=='1'"></appdetails1> 
              <appdetails51  [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "srv_statemanage.SecApp=='51'" ></appdetails51>               
              <appdetails54  [exportPDF]="true" [events]="eventsSubject.asObservable()" *ngIf = "(srv_statemanage.SecApp=='54' || srv_statemanage.SecApp=='10'  || srv_statemanage.SecApp=='188')"></appdetails54>                    
          </div>  
        </div>           
       <div class="pt-0 pl-0" [ngClass]="srv_statemanage.SecApp=='760' || srv_statemanage.SecApp=='770' || srv_statemanage.SecApp=='780' || srv_statemanage.SecApp=='790' || srv_statemanage.SecApp=='57'?'div-machining-param2 break-page':  'div-machining-param1 break-page' "> 
          <div>
            <div class="header-pdf">    
                <img [src]="environment.ImagePath+'INGIPA_New-logo.png'" class="logoImg pl-2 pt-1">          
                <!-- <img [src]="environment.ImagePath+'INGITA_New-logo.svg'" class="logoImg pr-4 pt-1 float-right">       -->  
            </div>
            <div class="header-pdf1">
                <div class="float-right pr-4">
                  <label class="labelwhite">{{srv_appsetting.User.displayName}}&nbsp;&nbsp;{{srv_appsetting.curDate | date:'dd-MM-yyyy'}}</label>          
                </div>
            </div>
          </div>
          <div class="row pb-2  pr-0 mr-0 pt-2 border-bottom-gray" >
            <label class="PDFTitle ml-2">{{'Results' | translate}}</label>
          </div>
           <inner-tabs-table  [exportPDF]="true"  [viewParamsChanged]="viewParams"></inner-tabs-table>
          <div class="pt-2">
            <div class="row pb-2  pr-0 mr-0  pl-3 pt-2 border-bottom-gray">
              <label class="PDFTitle ml-2">{{'Machining Parameters' | translate}}</label>
            </div>
            <machining-prms [exportPDF]="true"  [viewParamsChangedMP]="viewParams"></machining-prms> 
          </div>
        </div>   

        <div class="break-page">
            <div class="header-pdf">    
              <img [src]="environment.ImagePath+'INGIPA_New-logo.png'" class="logoImg pl-2 pt-1">          
              <!-- <img [src]="environment.ImagePath+'INGITA_New-logo.svg'" class="logoImg pr-4 pt-1 float-right">    -->     
          </div>
          <div class="header-pdf1">
              <div class="float-right pr-4">
                <label class="labelwhite">{{srv_appsetting.User.displayName}}&nbsp;&nbsp;{{srv_appsetting.curDate | date:'dd-MM-yyyy'}}</label>          
              </div>
          </div>          
          <div class="row pt-2 pb-2  pr-0 mr-0  pl-3 border-bottom-gray">
            <label class="PDFTitle ml-2">{{'Product Information' | translate}}</label>
          </div>
          <div *ngFor="let row of viewParams.Res[0]?.CatalogNo; let PrtNum = index"  [hidden]="row.trim().length != 7"> 
           
            <div [ngClass]="PrtNum>0?'break-page':'pt-0'"></div> 
            <div *ngIf="PrtNum>0" class="pt-0">
              <div class="header-pdf">    
                  <img [src]="environment.ImagePath+'INGIPA_New-logo.png'" class="logoImg pl-2 pt-1">          
                  <!-- <img [src]="environment.ImagePath+'INGITA_New-logo.svg'" class="logoImg pr-4 pt-1 float-right"> -->        
              </div>
              <div class="header-pdf1">
                  <div class="float-right pr-4">
                    <label class="labelwhite">{{srv_appsetting.User.displayName}}&nbsp;&nbsp;{{srv_appsetting.curDate | date:'dd-MM-yyyy'}}</label>          
                  </div>
              </div>
            </div>      
            <label class="siteTitle pt-2 pl-3">{{viewParams.Res[0].GroupText[PrtNum] | translate}}:</label>          
            <div class="pl-3 pt-0">        
              <!-- <result-item-info [viewParamsChanged]="viewParams" [ItemDesignation]="viewParams.Res[0].Designation[PrtNum]" [Family]="viewParams.Res[0].Families[PrtNum]" [CatalogNo]="viewParams.Res[0].CatalogNo[PrtNum]"></result-item-info> -->
              <result-item-info  [exportPDF]="true" [ItemDesignation]="viewParams.Res[0].Designation[PrtNum]" [Family]="viewParams.Res[0].Families[PrtNum]" [CatalogNo]="viewParams.Res[0].CatalogNo[PrtNum]"></result-item-info>
            </div>                      
          </div>
      </div>                          
  </div>
