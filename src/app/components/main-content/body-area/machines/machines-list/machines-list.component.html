
<div class="border-left-gray border-right-gray" > 
    <div class="row" >          
      <div class="col col-20 ml-0 pl-2 pr-0 pt-0"  *ngIf="!msrv_appsetting.isMobileResolution"> 
         <div class="pt-4 pb-0">
          
         </div>
          <div class="pr-2 pt-0 border-right-gray scrollYFilter" *ngIf="!msrv_appsetting.isMobileResolution">            
            <app-machines-filter *ngIf="isLoaded" (MachineFilterChanged)="onMachineFilterChanged($event)"
            (MachineFilterClear)="onMachineFilterClear()" [onChangeMachineList]="eventsChangeMachineList.asObservable()" [onChangeFavorite]="eventsChangeFavorite.asObservable()"></app-machines-filter>
          </div>
      </div>
      <div  class="col mt-2 mr-0" [ngClass]="msrv_appsetting.isMobileResolution?'col-12  pl-0 pr-0 ':'col-80  pl-2 pr-2 '">                                       
          <div class="pb-1 pt-0 mt-0 pt-4 d-flex justify-content row" *ngIf="!msrv_appsetting.isMobileResolution">
            <div class="col-6 pt-4 pl-0">  
              <h3 class="siteTitle pl-0 pb-0">{{'Select Machine' | translate}}</h3>
            </div>
            <div class="float-right col-6 text-right pt-4">
              <label class="pl-2 pb-0">{{'Found Machines' | translate}} : {{countrow}} {{'out of '| translate}} {{countallrow}}</label>
            </div>
          </div> 
          <div *ngIf="msrv_appsetting.isMobileResolution" >           
            <div class="row pt-4" >                
                <div class=" col-9 pt-2 pl-1">                  
                 <!-- <input type="text" class="form-control icon-search text-rounded" 
                  [(ngModel)]="MachineFilterTopMobile&&MachineFilterTopMobile.SearchText"  
                  (click)="FilterTopMobileChange('')"  placeholder="{{'Search'| translate}}" aria-describedby="search-addon" >
 -->
                  <div class="input-group rounded"> 
                    <input type="search" style="background-color: white!important;" class="form-control text-rounded" [(ngModel)]="MachineFilterTopMobile&&MachineFilterTopMobile.SearchText"  
                    (click)="FilterTopMobileChange('')" (keyup)="FilterTopMobileChange('')" 
                    (search)="FilterTopMobileChange('')"   
                    placeholder="{{'Search'| translate}}" aria-label="Search"
                      aria-describedby="search-addon" />                
                  </div>
                  
                </div>  
                <div class="text-right col-3 pr-2 mr-0">
                    <img  [src]="environment.ImagePath + 'icon_SortFilter.svg'" (click)="OpenFilterMobile()" class="ImgMobile pt-2  pl-2">
                </div>
              </div>
              <div class="scrollmenu pb-2 pt-2 pl-2 mr-2">
                <div class="p-0 m-0"> 
                    <div class="col p-0 m-0">                 
                      <label class="pr-2"  (click)="FilterTopMobileChange('IsMostRecommended')">{{'Most Recommended' | translate}}</label>
                      <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsMostRecommended) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>                  
                    </div>
                </div>
                <div  class="p-0 m-0">
                  <div class="col p-0 m-0">  
                    <label class="p-0 m-0">|</label>
                    <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
                  </div>
                </div>
                <div>
                  <div  class="p-0 m-0">
                    <div class="col p-0 m-0">  
                  <label class="pr-2 pl-2"  (click)="FilterTopMobileChange('IsViewAll')">{{'View All' | translate}}</label>
                  <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (IsViewAll) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>
                </div>
              </div>
                </div>
             <div  class="p-0 m-0">
                  <div class="col p-0 m-0">  
                    <label class="p-0 m-0">|</label>
                    <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
                  </div>
            </div>
            <div>
              <div  class="p-0 m-0">
                <div  class="col p-0 m-0"> 
                <label class="pr-2 pl-2"  (click)="FilterTopMobileChange('IsMachiningCenter')">{{'Machining Center' | translate}}</label>
                </div>
                <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsMachiningCenter && !MachineFilterTopMobile.IsMostRecommended && !IsViewAll) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>
              </div>
            </div>
           
            <div  class="p-0 m-0">
                <div  class="col p-0 m-0"> 
                  <label class="p-0 m-0">|</label>
                  <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
                </div>
            </div>
            <div>
              <div  class="p-0 m-0">
                <div  class="col p-0 m-0"> 
                  <label class="pr-2 pl-2"  (click)="FilterTopMobileChange('IsLathe')">{{'Lathe' | translate}}</label>
                  <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsLathe && !MachineFilterTopMobile.IsMostRecommended && !IsViewAll) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>
                </div>
              </div>
            </div>
            <div  class="p-0 m-0">
              <div  class="col p-0 m-0"> 
              <label class="p-0 m-0">|</label>
              <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
            </div>
            </div>
            <div>
              <div  class="p-0 m-0">
                <div  class="col p-0 m-0"> 
                <label class="pr-2 pl-2"  (click)="FilterTopMobileChange('IsMultiTask')">{{'Multi Task Machine' | translate}}</label>
                <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsMultiTask && !MachineFilterTopMobile.IsMostRecommended && !IsViewAll) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>
              </div>
            </div>
            </div>
                <div  class="p-0 m-0">
                  <div  class="col p-0 m-0"> 
                  <label class="p-0 m-0">|</label>
                  <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
                </div>
                </div>
                <div>
                  <div  class="p-0 m-0">
                    <div  class="col p-0 m-0"> 
                <label class="pr-2 pl-2" (click)="FilterTopMobileChange('IsMultiSpindle')">{{'Multi Spindle' | translate}}</label>
                <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsMultiSpindle && !MachineFilterTopMobile.IsMostRecommended && !IsViewAll) ? '2px solid' : '1px solid'}" style="width: 100%;" ></div>
              </div>
            </div>
          </div>
                <div  class="p-0 m-0">
                  <div  class="col p-0 m-0"> 
                  <label class="p-0 m-0">|</label>
                  <div class="pt-0 pl-0 pr-0" style="border-bottom: 1px solid;width: 100%;"></div>
                </div>
                </div>
                <div>
                  <div  class="p-0 m-0">
                    <div class="col p-0 m-0"> 
                <label class="pl-2"  (click)="FilterTopMobileChange('IsSwissType')">{{'Swiss Type' | translate}}</label>              
                <div class="pt-0 pl-0 pr-0" [ngStyle]="{'border-bottom': (MachineFilterTopMobile.IsSwissType && !MachineFilterTopMobile.IsMostRecommended && !IsViewAll) ? '2px solid' : '1px solid'}"  style="width: 100%;"></div>
                </div>
              </div>
            </div>
              </div> 
                   
          </div>                    
          <div class="div-datatable"  *ngIf="!msrv_appsetting.isMobileResolution">              
              <table datatable [dtTrigger]="dtTrigger" [dtOptions]="dtOptions" style="width: 100%"
                class="table table-stripe row-border hover " id="table1">
                <thead *ngIf="isLoaded">
                  <tr id="dtOptions">
                    <th class="d-none">ID</th>                                                                                           
                    <th><label class="visibleonlybigscreen">{{'Machine Name' | translate}}<span class="sort-icon ml-1" ></span></label></th>                                                   
                    <th (click)="SortSpindleType()" class="text-center">
                        <div class="text-center">
                          <div>
                            <label>{{'Spindle' | translate}}:</label><span class="sort-icon ml-1" ></span>
                          </div>
                        </div>
                        <div class="text-center">
                            <label>{{'Main' | translate}} &nbsp;{{'Tool' | translate}}</label>
                        </div>
                    </th>                 
                    <th><div class="text-left">{{'Adaptation Type'| translate}}{{' '}}<span class="sort-icon ml-1"></span>
                        </div>
                        <div class="text-left">{{'Size' | translate}}</div>                        
                    </th>
                    <th ><label>{{'Power' | translate}}{{ msrv_appsetting.Units =='M' ? '(kW)' : '(HP)' }}<span class="sort-icon ml-1"></span></label></th>
                    <th class="visibleonlybigscreen"><label class="text-wrap">{{'Spindle Speed' | translate}} ( {{'rpm' | translate }} )<span class="sort-icon ml-1"></span></label></th>                
                    <th class="visibleonlybigscreen"><label class="text-wrap">{{'Torque' | translate}}{{ msrv_appsetting.Units =='M' ? ' (Nm)' : ' (Lbf)' }}<span class="sort-icon ml-1"></span></label></th>
                    <th></th>                 
                    <th></th>
                    <th></th> 
                    <th class="d-none" >Sec</th> 
                    <th class="d-none" >Fav</th>                  
                  </tr>
                </thead>
                <tbody *ngIf="isLoaded">
                  <tr  *ngFor="let mach of listmachines"  [className]="mach?.IsSelected? 'tr-selected' : 'tr-not-selected'">
                    <th scope="row" class="d-none">{{mach.MachineID}} </th>                                                                                         
                    <td (click)="onclickrow(mach)" class="cursor-pointer"><div class="pl-2 " class="cursor-pointer" >{{mach.MachineName}}</div></td>                     
                    <td class="cursor-pointer text-center" data-sort ="mach.SpindleType" >                     
                      <div class="pl-2 cursor-pointer text-center">
                        <div class="pl-2">
                          <div class="custom-control custom-radio custom-control-inline text-center" >
                              <input type="radio" class="custom-control-input " [attr.id]="'optM'+ mach.MachineID" [attr.name]="'SpindleType'+ mach.MachineID"  [checked]="mach.SpindleType=='M'"  (click)="setspindletype(mach,'M')">
                              <label class="custom-control-label" [attr.for]="'optM'+ mach.MachineID"></label>
                          </div>            
                          <div class="custom-control custom-radio custom-control-inline text-center" >
                              <input type="radio" class="custom-control-input" [attr.id]="'optT'+ mach.MachineID"  [disabled]="mach.MachineType=='Machining center' || mach.MachineType=='Lathe'"   [checked]="mach.SpindleType=='T'"  [attr.name]="'SpindleType'+ mach.MachineID" (click)="setspindletype(mach,'T')" >
                              <label class="custom-control-label" [attr.for]="'optT'+ mach.MachineID"></label>
                          </div>                                        
                      </div> 
                      </div>
                    </td>                                       
                    <td (click)="onclickrow(mach)" class="cursor-pointer"><div class="pl-2">{{mach.AdaptationType}} - {{mach.AdaptationSize}}</div></td>
                    <td (click)="onclickrow(mach)" class="cursor-pointer"><div class="pl-2">{{mach.Power}}</div></td>
                    <td (click)="onclickrow(mach)" class="cursor-pointer visibleonlybigscreen"><div class="pl-2">{{mach.SpindleSpeed}}</div></td>                
                    <td (click)="onclickrow(mach)" class="cursor-pointer visibleonlybigscreen"><div class="pl-2">{{mach.Torque}}</div></td>                                     
                   <td data-sort="image1" class="cursor-pointer">
                      <a data-toggle="tooltip" title="{{ mach.isFavorite  ? 'Delete My Machine' : 'Add To My Machines' | translate}}" class="cursor-pointer">
                        <img   [src]="mach.isFavorite ?environment.ImgFavorite: environment.ImgAddToFavorite" class="icon-grid" (click)="OnFavoriteMachine(mach)" >
                      </a>
                    </td>
                    <td data-sort="image2">
                      <a data-toggle="tooltip" title="{{'Default Machine' | translate}}"> 
                        <img *ngIf="mach.IsMostRecommended" [src]="environment.ImgDefault"  class="icon-grid-no-pointer">                        
                      </a>
                    </td>
                    <td data-sort="image3" class="cursor-pointer" >
                      <div class="float-right text-right" style="width:100%!important" >
                        <button [className]="mach.IsSelected? 'col-12 btn btn-select-selected' : 'col-12 btn btn-select'"
                          (click)="OnSelectMachine(mach)" [routerLink]="'/home/materials'">{{mach.DescSelect| translate}}</button>
                      </div>
                    </td> 
                    <th scope="row" class="d-none">{{mach.Sec}}</th> 
                    <th scope="row" class="d-none">{{mach.isFavorite}}</th>                 
                  </tr>                  
                </tbody>
              </table>
            </div> 
            
            <div *ngIf="msrv_appsetting.isMobileResolution"  class="pl-0 pr-0 ml-0 mr-0">              
              <table  datatable [dtTrigger]="dtTrigger" [dtOptions]="dtOptions" style="width: 100%" class="datatable-mobile  row-border  pl-0 pr-0 ml-0 mr-0">
                 <thead *ngIf="isLoaded">
                  <tr id="dtOptions">
                    <th class="d-none"></th> 
                    <th class="d-none"></th>                                                                                                                                           
                    <th class="d-none" ></th> 
                    <th class="d-none" ></th>                  
                  </tr>
                </thead> 
                <tbody *ngIf="isLoaded">
                  <tr  *ngFor="let mach of listmachines"  [className]="mach?.IsSelected? 'tr-selected' : 'tr-not-selected-mobile'">
                    <th scope="row" class="d-none">{{mach.MachineID}} </th>      
                    <td class=" pl-0 pr-0 ml-0 mr-0">
                        <div class="row" >
                          <div class="col-3  pr-0 ml-0 mr-0 float-left text-left" >                            
                            <img class="mt-0 mb-0 ml-0 pl-0" (click)="onclickrow(mach)" *ngIf="mach.MachineType== 'Machining center'" [src]="environment.ImagePath + 'MachiningCenter.svg'" >
                            <img class="mt-0 mb-0 ml-0 mr-0" (click)="onclickrow(mach)" *ngIf="mach.MachineType== 'Lathe'" [src]="environment.ImagePath + 'lathe.svg'" >
                            <img class="mt-0 mb-0 ml-0 mr-0" (click)="onclickrow(mach)" *ngIf="mach.MachineType== 'Multi task'" [src]="environment.ImagePath + 'MultiTask.svg'" >
                            <img class="mt-0 mb-0 ml-0 mr-0" (click)="onclickrow(mach)" *ngIf="mach.MachineType== 'Multi spindle'" [src]="environment.ImagePath + 'MultiSpindle.svg'" >
                            <img class="mt-0 mb-0 ml-0 mr-0" (click)="onclickrow(mach)" *ngIf="mach.MachineType== 'Swiss type'" [src]="environment.ImagePath + 'SwissType.svg'" >                                                        
                            <!-- <button class="btn-select-mobile mt-1 mb-0 ml-1 mr-0" (click)="OnSelectMachine(mach)" [routerLink]="'/home/materials'">{{mach.DescSelect| translate}}</button>                  -->
                            <button style="width:100%" class="btn-select-mobile pl-0 ml-0 pr-0 mr-0 mt-1" (click)="OnSelectMachine(mach)" [routerLink]="'/home/materials'">{{mach.DescSelect| translate}}</button>                                                                                                                                                     
                          </div>
                          <div class="col-8" >
                            <div class=" font-weight-bold" (click)="onclickrow(mach)" style="width:100%;">{{mach.MachineName}}</div>
                            <div class="ml-0">
                                <div class="custom-control custom-radio custom-control-inline" >
                                  <input type="radio" class="custom-control-input " [attr.id]="'optM'+ mach.MachineID" [attr.name]="'SpindleType'+ mach.MachineID"  
                                  [checked]="mach.SpindleType=='M'"  (click)="setspindletype(mach,'M')">
                                  <label class="custom-control-label" [attr.for]="'optM'+ mach.MachineID">{{'Main Spindle' | translate}}</label>
                                </div>            
                                <div *ngIf="!(mach.MachineType== 'Lathe' || mach.MachineType== 'Machining center')" class="custom-control custom-radio custom-control-inline" >
                                  <input type="radio" class="custom-control-input" [attr.id]="'optT'+ mach.MachineID"  [disabled]="mach.MachineType=='Machining center' || mach.MachineType=='Lathe'"  
                                   [checked]="mach.SpindleType=='T'"  [attr.name]="'SpindleType'+ mach.MachineID" (click)="setspindletype(mach,'T')" >
                                  <label class="custom-control-label" [attr.for]="'optT'+ mach.MachineID">{{'Tool Spindle' | translate}}</label>
                                </div>                                        
                            </div>  
                            <div class="row" style="width:100%;" (click)="onclickrow(mach)">
                              <!-- <div class="text-left">{{'Adaptation Type'| translate}}&{{'Size' | translate}}:</div>      --> 
                              <div class="text-left">{{'Adaptation'| translate}}: &nbsp;</div>                             
                              <div (click)="onclickrow(mach)">{{mach.AdaptationType}} - {{mach.AdaptationSize}}</div>
                            </div>                           
                            <div class="row" style="width:100%;" (click)="onclickrow(mach)">
                              <div>
                                <label>{{'Power' | translate}}{{ msrv_appsetting.Units =='M' ? ' (kW)' : ' (HP)' }}:</label>
                              </div>
                              <div class="pl-2">{{mach.Power}}</div>
                            </div>                           
                        </div>
                        </div>
                    </td>                                                                          
                    <th scope="row" class="d-none">{{mach.Sec}}</th> 
                    <th scope="row" class="d-none">{{mach.isFavorite}}</th>                 
                  </tr>                  
                </tbody>
              </table>
            </div>   
        </div>
      </div>   
</div>
